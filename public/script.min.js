!function(){function i(a){clearTimeout(h),f.innerHTML=a,f.classList.remove("hidden"),h=setTimeout(function(){f.classList.add("hidden")},3e3)}function j(a){xhr=new XMLHttpRequest;var b=e.value+"/set";xhr.open("POST",b,!0),xhr.setRequestHeader("Content-type","application/json"),xhr.onreadystatechange=function(){4===xhr.readyState&&200!==xhr.status&&i("Link not created. Try again!")};var c=JSON.stringify({link:a});xhr.send(c)}var a=document.getElementsByTagName("header")[0],b=document.getElementById("result"),c=document.getElementById("link"),d=document.getElementById("send"),e=document.getElementById("short"),f=document.getElementById("message"),g=/^(?:https?:\/\/)?[^\/]+\.\w+\/?.*$/m;c.disabled=!1,d.disabled=!1,d.addEventListener("click",function(f){return f.preventDefault(),g.exec(c.value)?(a.classList.add("back"),b.classList.remove("hidden"),c.disabled=!0,d.disabled=!0,e.select(),void j(c.value)):void i("Input is not a link!")});var h=null}();
